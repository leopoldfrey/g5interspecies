<!DOCTYPE html>
<html lang="fr">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>G5 Interspecies</title>

    <!-- Bootstrap Core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

	<!-- Custom Fonts -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">

    <!-- Theme CSS -->
    <!--link href="css/grayscale.min.css" rel="stylesheet"-->
    <link href="css/grayscale.css" rel="stylesheet">

    <!-- Img processing from phone -->
    <script src="js/load-image.all.min.js"></script>
    
    <script src="js/ws.js"></script>
    
    <style>
    .btn-click-look {
        background-color: white;
        color: gray;
        border: 1px solid lightgray;
        height: 40px;
        /*position: fixed;*/
        bottom: 40px;
        margin-right: auto;
        margin-left: auto;
        font-size: 15px;
        /*color: rgba(255, 255, 255, 0.2)*/
    }
    
    #msg-middle {
    	text-transform: none;
    }
    </style>
    
    <script>

	vote = 0;
		
	// WEBSOCKET CONNECTION	
    
	function sendMsg(_type, _message) {
		try {
		
			if(!ws)
				connectToWS();
				
			ws.send(
				JSON.stringify(
				{
					charset : 'utf8mb4', 
					type: _type,
					vote: _message
				})
			, function (err) {
				if (err) {
					console.log("- Error sending message "+err.stack);
				} else {
					console.log("- Success sending message "+ _type);
				}
			
			});
		} catch (err) {
			//alert(err.message);
			console.log("Error sending message : "+err.message);
			console.log(err.stack);
		}
	}

	function sendVote(_vote, _value) {
        $.post("/vote",{vote: _vote, value: _value}, function(data){
        	if(data==="ok") {
                console.log("- Success sending vote");
            }
        });
    }
    
    function addVote(_vote, _ref, _value) {
    	console.log("ADD VOTE : "+_vote+" / "+_ref+" / "+_value);
        $.post("/addvote",{vote: _vote, ref: _ref, value: _value}, function(data){
        	if(data==="ok") {
                console.log("- Success sending addvote");
            }
        });
    }
    
    function cancelHybrid() {
    	if(document.querySelector('input[name="A.4e"]').checked) {
    		document.querySelector('input[name="A.4a"]').checked = false;
    		document.querySelector('input[name="A.4b"]').checked = false;
    		document.querySelector('input[name="A.4c"]').checked = false;
    		document.querySelector('input[name="A.4d"]').checked = false;
    	}
    }
    
    function checkHybrid() {
    	if(document.querySelector('input[name="A.4a"]').checked ||
    		document.querySelector('input[name="A.4b"]').checked ||
    		document.querySelector('input[name="A.4c"]').checked ||
    		document.querySelector('input[name="A.4d"]').checked) {
    		document.querySelector('input[name="A.4e"]').checked = false;	
    	}
    }

    function next() {
    	console.log("NEXT : "+parseInt(vote));
		switch(parseInt(vote)){
    		case 0:
    			sendVote('A.1',document.querySelector('input[name="A.1"]:checked').value);
    			setvote(1);
    			break;
    		case 1:
    			sendVote('A.2',document.querySelector('input[name="A.2"]:checked').value);
    			setvote(2);
    			break;
    		case 2:
    			sendVote('A.3',document.querySelector('input[name="A.3"]:checked').value);
    			setvote(3);
    			break;
    		case 3:
    			if(document.querySelector('input[name="A.4a"]').checked)
    			{
    				sendVote('A.4',document.querySelector('input[name="A.4a"]').value);
    			}
    			if(document.querySelector('input[name="A.4b"]').checked)
    			{
    				sendVote('A.4',document.querySelector('input[name="A.4b"]').value);
    			}
    			if(document.querySelector('input[name="A.4c"]').checked)
    			{
    				sendVote('A.4',document.querySelector('input[name="A.4c"]').value);
    			}
    			if(document.querySelector('input[name="A.4d"]').checked)
    			{
    				sendVote('A.4',document.querySelector('input[name="A.4d"]').value);
    			}
    			if(document.querySelector('input[name="A.4e"]').checked)
    			{
    				sendVote('A.4',document.querySelector('input[name="A.4e"]').value);
    			}
    			setvote(4);
    			break;
    		case 4:
    			if(document.querySelector('input[name="A.5a"]').checked)
    			{
    				sendVote('A.5',document.querySelector('input[name="A.5a"]').value);
    			}
    			if(document.querySelector('input[name="A.5b"]').checked)
    			{
    				sendVote('A.5',document.querySelector('input[name="A.5b"]').value);
    			}
    			if(document.querySelector('input[name="A.5c"]').checked)
    			{
    				sendVote('A.5',document.querySelector('input[name="A.5c"]').value);
    			}
    			if(document.querySelector('input[name="A.5d"]').checked)
    			{
    				sendVote('A.5',document.querySelector('input[name="A.5d"]').value);
    			}
    			if(document.querySelector('input[name="A.5e"]').checked)
    			{
    				sendVote('A.5',document.querySelector('input[name="A.5e"]').value);
    			}
    			setvote(5);
    			break;
    		case 5:
    			sendVote('A.6',document.querySelector('input[name="A.6"]:checked').value);
    			setvote(6);
    			break;
    		case 6:
    			sendVote('A.7',document.querySelector('input[name="A.7"]:checked').value);
    			setvote(7);
    			break;
    		case 7:
    			sendVote('A.8',document.querySelector('input[name="A.8"]:checked').value);
    			setvote(8);
    			break;
    		case 8:
    			sendVote('A.9',document.querySelector('input[name="A.9"]:checked').value);
    			setvote(9);
    			break;
    		case 9:
    			sendVote('A.10',document.querySelector('input[name="A.10"]:checked').value);
    			setvote(10);
    			break;
    		case 10:
    			if(document.querySelector('input[name="A.11a"]').checked)
    			{
    				sendVote('A.11',document.querySelector('input[name="A.11a"]').value);
    			}
    			if(document.querySelector('input[name="A.11b"]').checked)
    			{
    				sendVote('A.11',document.querySelector('input[name="A.11b"]').value);
    			}
    			if(document.querySelector('input[name="A.11c"]').checked)
    			{
    				sendVote('A.11',document.querySelector('input[name="A.11c"]').value);
    			}
    			if(document.querySelector('input[name="A.11d"]').checked)
    			{
    				sendVote('A.11',document.querySelector('input[name="A.11d"]').value);
    			}
    			setvote(11);
    			break;
    		case 11:
    			if(document.querySelector('input[name="A.12a"]').checked)
    			{
    				sendVote('A.12',document.querySelector('input[name="A.12a"]').value);
    			}
    			if(document.querySelector('input[name="A.12b"]').checked)
    			{
    				sendVote('A.12',document.querySelector('input[name="A.12b"]').value);
    			}
    			if(document.querySelector('input[name="A.12c"]').checked)
    			{
    				sendVote('A.12',document.querySelector('input[name="A.12c"]').value);
    			}
    			if(document.querySelector('input[name="A.12d"]').checked)
    			{
    				sendVote('A.12',document.querySelector('input[name="A.12d"]').value);
    			}
    			if(document.querySelector('input[name="A.12e"]').checked)
    			{
    				sendVote('A.12',document.querySelector('input[name="A.12e"]').value);
    			}
    			setvote(12);
    			break;
    		case 12:
    			// DO NOTHING
    			break;
    		case 13:
    			sendVote('B.1',document.querySelector('input[name="B.1"]:checked').value);
    			setvote(14);
    			break;
    		case 14:
    			sendVote('B.2',document.querySelector('input[name="B.2"]:checked').value);
    			setvote(15);
    			break;   		
    		case 15:
    			addVote('B.3','mineral_growth',document.querySelector('input[name="B.3"]').value/100.);
    			sendVote('B.3','mineral_vote');
    			setvote(16);
    			break;   		
    		case 16:
    			addVote('B.4','vegetal_growth',document.querySelector('input[name="B.4"]').value/100.);
    			sendVote('B.4','vegetal_vote');
    			setvote(17);
    			break;   		
    		case 17:
    			addVote('B.5','animal_growth',document.querySelector('input[name="B.5"]').value/100.);
    			sendVote('B.5','animal_vote');
    			setvote(18);
    			break;   		
    		case 18:
    			addVote('B.6','human_growth',document.querySelector('input[name="B.6"]').value/100.);
    			sendVote('B.6','human_vote');
    			setvote(19);
    			break;   		
    		case 19:
    			addVote('B.7','machine_growth',document.querySelector('input[name="B.7"]').value/100.);
    			sendVote('B.7','machine_vote');
    			setvote(20);
    			break;   		
    		case 20:
    			addVote('B.8','mineral_hybrid',document.querySelector('input[name="B.8a"]').value/100.);
    			addVote('B.8','vegetal_hybrid',document.querySelector('input[name="B.8b"]').value/100.);
    			addVote('B.8','animal_hybrid',document.querySelector('input[name="B.8c"]').value/100.);
    			addVote('B.8','machine_hybrid',document.querySelector('input[name="B.8d"]').value/100.);
    			sendVote('B.8','hybrid_vote');
    			setvote(21);
    			break; 
    		case 21:
    			addVote('B.9','temperature_growth',document.querySelector('input[name="B.9"]').value/100.);
    			sendVote('B.9','temperature_vote');
    			setvote(22);
    			break;  
    		case 22:
    			addVote('B.10','pollution_growth',document.querySelector('input[name="B.10"]').value/100.);
    			sendVote('B.10','pollution_vote');
    			setvote(23);
    			break;  
    		case 23:
    			addVote('B.11','violence_growth',document.querySelector('input[name="B.11"]').value/100.);
    			sendVote('B.11','violence_vote');
    			setvote(24);
    			break;  
    		case 24:
    			addVote('B.12','equality_growth',document.querySelector('input[name="B.12"]').value/100.);
    			sendVote('B.12','equality_vote');
    			setvote(25);
    			break;  
    		case 25:
    			addVote('B.13','freedom_growth',document.querySelector('input[name="B.13"]').value/100.);
    			sendVote('B.13','freedom_vote');
    			setvote(26);
    			break;  
    		case 26:
    			addVote('B.14','knowledge_growth',document.querySelector('input[name="B.14"]').value/100.);
    			sendVote('B.14','knowledge_vote');
    			setvote(27);
    			break;  
    		case 27:
    			addVote('B.15','language_growth',document.querySelector('input[name="B.15"]').value/100.);
    			sendVote('B.15','language_vote');
    			setvote(28);
    			break;
    	}
    }
    
	function setvote(_vote) {
    	vote = _vote;
        console.log("SET VOTE : "+parseInt(vote));
		switch(parseInt(vote)) {
            case 0:
                document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "HUMAN REFERENDUM";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "Which human political protocol would you propose ?"+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td><input type='radio' name='A.1' value='anarchy'/></td><td>Anarchy</td></tr>"+
                "<tr><td><input type='radio' name='A.1' value='democracy'/></td><td>Democracy</td></tr>"+
                "<tr><td><input type='radio' name='A.1' value='spirituality'/></td><td>Spirituality</td></tr>"+
                "<tr><td><input type='radio' name='A.1' value='totalitarism'/></td><td>Totalitarism</td></tr>"+
                "<tr><td><input type='radio' name='A.1' value='other''/></td><td>Other</td></tr>"+
                "</table>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
                break;
            case 1:
                document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "HUMAN REFERENDUM";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "What is a human ?"+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td><input type='radio' name='A.2' value='only_intelligent'/></td><td>the only form of intelligence on earth</td></tr>"+
                "<tr><td><input type='radio' name='A.2' value='most_intelligent'/></td><td>the most intelligent form on earth</td></tr>"+
                "<tr><td><input type='radio' name='A.2' value='another_intelligent'/></td><td>another form of intelligence on earth</td></tr>"+
                "<tr><td><input type='radio' name='A.2' value='another_form'/></td><td>another form of life among several others</td></tr>"+
                "</table>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
                break;
            case 2:
                document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "HUMAN REFERENDUM";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "Would you rather prefer to be a"+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td><input type='radio' name='A.3' value='mineral'/></td><td>mineral</td></tr>"+
                "<tr><td><input type='radio' name='A.3' value='vegetal'/></td><td>vegetal</td></tr>"+
                "<tr><td><input type='radio' name='A.3' value='animal'/></td><td>animal</td></tr>"+
                "<tr><td><input type='radio' name='A.3' value='human'/></td><td>human</td></tr>"+
                "<tr><td><input type='radio' name='A.3' value='machine'/></td><td>machine</td></tr>"+
                "</table>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
                break;
            case 3:
                document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "HUMAN REFERENDUM";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "Would you like to hybridize with a"+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td><input type='checkbox' name='A.4a' onchange='checkHybrid()' value='mineral'/></td><td>mineral</td></tr>"+
                "<tr><td><input type='checkbox' name='A.4b' onchange='checkHybrid()' value='vegetal'/></td><td>vegetal</td></tr>"+
                "<tr><td><input type='checkbox' name='A.4c' onchange='checkHybrid()' value='animal'/></td><td>animal</td></tr>"+
                "<tr><td><input type='checkbox' name='A.4d' onchange='checkHybrid()' value='machine'/></td><td>machine</td></tr>"+
                "<tr><td><input type='checkbox' name='A.4e' onchange='cancelHybrid()' value='no'/></td><td>I would prefer not to</td></tr>"+
                "</table>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
                break;
            case 4:
                document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "HUMAN REFERENDUM";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "Humans are dependant on"+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td><input type='checkbox' name='A.5a' value='mineral'/></td><td>Minerals</td></tr>"+
                "<tr><td><input type='checkbox' name='A.5b' value='vegetal'/></td><td>Vegetals</td></tr>"+
                "<tr><td><input type='checkbox' name='A.5c' value='animal'/></td><td>Animals</td></tr>"+
                "<tr><td><input type='checkbox' name='A.5d' value='human'/></td><td>Humans</td></tr>"+
                "<tr><td><input type='checkbox' name='A.5e' value='machine'/></td><td>Machines</td></tr>"+
                "</table>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
                break;
            case 5:
                document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "HUMAN REFERENDUM";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "Humans are "+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td><input type='radio' name='A.6' value='<'/></td><td>inferior</td></tr>"+
                "<tr><td><input type='radio' name='A.6' value='='/></td><td>equal</td></tr>"+
                "<tr><td><input type='radio' name='A.6' value='>'/></td><td>superior</td></tr>"+
                "</table>"+
                "<br/>to <u>Minerals</u>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
                break;
            case 6:
                document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "HUMAN REFERENDUM";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "Humans are "+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td><input type='radio' name='A.7' value='<'/></td><td>inferior</td></tr>"+
                "<tr><td><input type='radio' name='A.7' value='='/></td><td>equal</td></tr>"+
                "<tr><td><input type='radio' name='A.7' value='>'/></td><td>superior</td></tr>"+
                "</table>"+
                "<br/>to <u>Vegetals</u>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
                break;
            case 7:
                document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "HUMAN REFERENDUM";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "Humans are "+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td><input type='radio' name='A.8' value='<'/></td><td>inferior</td></tr>"+
                "<tr><td><input type='radio' name='A.8' value='='/></td><td>equal</td></tr>"+
                "<tr><td><input type='radio' name='A.8' value='>'/></td><td>superior</td></tr>"+
                "</table>"+
                "<br/>to <u>Animals</u>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
                break;
			case 8:
                document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "HUMAN REFERENDUM";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "Humans are "+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td><input type='radio' name='A.9' value='<'/></td><td>inferior</td></tr>"+
                "<tr><td><input type='radio' name='A.9' value='='/></td><td>equal</td></tr>"+
                "<tr><td><input type='radio' name='A.9' value='>'/></td><td>superior</td></tr>"+
                "</table>"+
                "<br/>to <u>Machines</u>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
                break;
			case 9:
                document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "HUMAN REFERENDUM";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "Would you agree with the project of changing the notion of individual to nondividual* ?"+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td><input type='radio' name='A.10' value='yes'/></td><td>yes</td></tr>"+
                "<tr><td><input type='radio' name='A.10' value='no'/></td><td>no</td></tr>"+
                "</table>"+
                "</br></br>* nondividual is an entity who canâ€™t be taught without his environment.";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
                break;
            case 10:
                document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "HUMAN REFERENDUM";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "I vote for the creation<br/> of <u>inclusive</u> spaces between humans and "+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td><input type='checkbox' name='A.11a' value='mineral'/></td><td>Minerals</td></tr>"+
                "<tr><td><input type='checkbox' name='A.11b' value='vegetal'/></td><td>Vegetals</td></tr>"+
                "<tr><td><input type='checkbox' name='A.11c' value='animal'/></td><td>Animals</td></tr>"+
                "<tr><td><input type='checkbox' name='A.11d' value='machine'/></td><td>Machines</td></tr>"+
                "</table>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
                break;
			case 11:
                document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "HUMAN REFERENDUM";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "I vote for the creation<br/>of <u>exclusive</u> spaces of existence for "+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td><input type='checkbox' name='A.12a' value='mineral'/></td><td>Minerals</td></tr>"+
                "<tr><td><input type='checkbox' name='A.12b' value='vegetal'/></td><td>Vegetals</td></tr>"+
                "<tr><td><input type='checkbox' name='A.12c' value='animal'/></td><td>Animals</td></tr>"+
                "<tr><td><input type='checkbox' name='A.12d' value='human'/></td><td>Humans</td></tr>"+
                "<tr><td><input type='checkbox' name='A.12e' value='machine'/></td><td>Machines</td></tr>"+
                "</table>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
                break;
            default:
			case 12:
                document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "Thank you for<br/>your participation<br/>in this REFERENDUM";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "Please stay connected.";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "none";
                break;
            case 13:
			    document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "YOUR PARTICIPATION<br/>TO THE FUTURE";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "In 2120, humans will live :"+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td><input type='radio' name='B.1' value='earth'/></td><td>on earth</td></tr>"+
                "<tr><td><input type='radio' name='B.1' value='other_planet'/></td><td>on another planet</td></tr>"+
                "<tr><td><input type='radio' name='B.1' value='nowhere'/></td><td>nowhere</td></tr>"+
                "</table>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
                break;
            case 14:
			    document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "YOUR PARTICIPATION<br/>TO THE FUTURE";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "In 2120, humans will live :"+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td><input type='radio' name='B.2' value='urban'/></td><td>in a urban environment</td></tr>"+
                "<tr><td><input type='radio' name='B.2' value='rural'/></td><td>in a rural environment</td></tr>"+
                "<tr><td><input type='radio' name='B.2' value='natural'/></td><td>in a natural environment</td></tr>"+
                "<tr><td><input type='radio' name='B.2' value='nowhere'/></td><td>nowhere</td></tr>"+
                "</table>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
                break;
            case 15:
			    document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "YOUR PARTICIPATION<br/>TO THE FUTURE";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "In 2120, <u>mineral</u> population will :"+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td>decrease&nbsp;&nbsp;</td><td><input type='range' name='B.3' min='0' max='100'></td><td>&nbsp;&nbsp;increase</td></tr>"+
                "</table>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
                break;
            case 16:
			    document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "YOUR PARTICIPATION<br/>TO THE FUTURE";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "In 2120, <u>vegetal</u> population will :"+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td>decrease&nbsp;&nbsp;</td><td><input type='range' name='B.4' min='0' max='100'></td><td>&nbsp;&nbsp;increase</td></tr>"+
                "</table>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
                break;
            case 17:
			    document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "YOUR PARTICIPATION<br/>TO THE FUTURE";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "In 2120, <u>animal</u> population will :"+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td>decrease&nbsp;&nbsp;</td><td><input type='range' name='B.5' min='0' max='100'></td><td>&nbsp;&nbsp;increase</td></tr>"+
                "</table>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
                break;
            case 18:
			    document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "YOUR PARTICIPATION<br/>TO THE FUTURE";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "In 2120, <u>human</u> population will :"+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td>decrease&nbsp;&nbsp;</td><td><input type='range' name='B.6' min='0' max='100'></td><td>&nbsp;&nbsp;increase</td></tr>"+
                "</table>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
                break;
            case 19:
			    document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "YOUR PARTICIPATION<br/>TO THE FUTURE";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "In 2120, <u>machine</u> population will :"+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td>decrease&nbsp;&nbsp;</td><td><input type='range' name='B.7' min='0' max='100'></td><td>&nbsp;&nbsp;increase</td></tr>"+
                "</table>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
                break;
            case 20:
			    document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "YOUR PARTICIPATION<br/>TO THE FUTURE";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "In 2120, humans will hybridise with :"+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td><input type='range' name='B.8a' min='0' max='100'></td><td>&nbsp;&nbsp;Minerals</td></tr>"+
                "<tr><td><input type='range' name='B.8b' min='0' max='100'></td><td>&nbsp;&nbsp;Vegetals</td></tr>"+
                "<tr><td><input type='range' name='B.8c' min='0' max='100'></td><td>&nbsp;&nbsp;Animals</td></tr>"+
                "<tr><td><input type='range' name='B.8d' min='0' max='100'></td><td>&nbsp;&nbsp;Machines</td></tr>"+
                "</table>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
                break;
            case 21:
            	document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "YOUR PARTICIPATION<br/>TO THE FUTURE";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "In 2120, <u>temperature</u> will :"+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td>decrease&nbsp;&nbsp;</td><td><input type='range' name='B.9' min='0' max='100'></td><td>&nbsp;&nbsp;increase</td></tr>"+
                "</table>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
				break;
			case 22:
            	document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "YOUR PARTICIPATION<br/>TO THE FUTURE";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "In 2120, <u>pollution</u> will :"+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td>decrease&nbsp;&nbsp;</td><td><input type='range' name='B.10' min='0' max='100'></td><td>&nbsp;&nbsp;increase</td></tr>"+
                "</table>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
				break;
			case 23:
            	document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "YOUR PARTICIPATION<br/>TO THE FUTURE";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "In 2120, <u>violence</u> will :"+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td>decrease&nbsp;&nbsp;</td><td><input type='range' name='B.11' min='0' max='100'></td><td>&nbsp;&nbsp;increase</td></tr>"+
                "</table>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
				break;
			case 24:
            	document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "YOUR PARTICIPATION<br/>TO THE FUTURE";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "In 2120, <u>equality</u> will :"+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td>decrease&nbsp;&nbsp;</td><td><input type='range' name='B.12' min='0' max='100'></td><td>&nbsp;&nbsp;increase</td></tr>"+
                "</table>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
				break;
			case 25:
            	document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "YOUR PARTICIPATION<br/>TO THE FUTURE";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "In 2120, <u>freedom</u> will :"+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td>decrease&nbsp;&nbsp;</td><td><input type='range' name='B.13' min='0' max='100'></td><td>&nbsp;&nbsp;increase</td></tr>"+
                "</table>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
				break;
			case 26:
            	document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "YOUR PARTICIPATION<br/>TO THE FUTURE";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "In 2120, <u>knowledge</u> will :"+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td>decrease&nbsp;&nbsp;</td><td><input type='range' name='B.14' min='0' max='100'></td><td>&nbsp;&nbsp;increase</td></tr>"+
                "</table>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
				break;
			case 27:
            	document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "YOUR PARTICIPATION<br/>TO THE FUTURE";
            	document.getElementById("section-middle").style.display = "";
                document.getElementById("msg-middle").innerHTML = "In 2120, <u>language</u> will :"+
                "<br/><br/><table style='margin:auto'>"+
                "<tr><td>decrease&nbsp;&nbsp;</td><td><input type='range' name='B.15' min='0' max='100'></td><td>&nbsp;&nbsp;increase</td></tr>"+
                "</table>";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "";
				break;
			case 28:
            	document.getElementById("section-top").style.display = "";
                document.getElementById("msg-top").innerHTML = "Thank you for<br/>YOUR PARTICIPATION<br/>TO THE FUTURE";
            	document.getElementById("section-middle").style.display = "none";
                document.getElementById("msg-middle").innerHTML = "";
            	document.getElementById("section-bottom").style.display = "none";
                document.getElementById("msg-bottom").innerHTML = "";
                document.getElementById("next-btn").style.display = "none";
				break;
        }
            
    }
    
    function connectToWS() {
        // Connect to websocket server
        ws = new WebSocket(wsServer);

        // Log messages from the server
        ws.onmessage = function (e) {
            console.log("| WS Received message: " + e.data);
            var reply = JSON.parse(e.data);
            if (reply.command == "nextvote") {
            	if(reply.vote != -1)
	                setvote(reply.vote);
            } else if(reply.command == "users") {
            	//
            }
        };

        // Log errors
        ws.onerror = function (error) {
            console.error("WebSocket Error " + error.stack);
        };

        ws.onopen = function (event) {
            console.log("- Connected to ws server");
            $.post("/iAmNewWheteTo",{}, function(data){
				if(data) {
					console.log("| Success sending iAmNewWheteTo");
					if(data == 13) {
						setvote(13);
					}
				}
			});
        };
    }
    
    /* Onload */
    document.addEventListener("DOMContentLoaded", function(event) {

        // Buttons
        //document.getElementById("next-btn").onclick = onClick;
		
		connectToWS();
        
        var temp = location.search.substring(1).split("=");
    	vote = decodeURIComponent(temp[1]);
    	
    	if(vote == "undefined")
    		vote = 0;
    	
    	//console.log("VOTE :: "+vote);
    	
        setvote(vote);
    });

    </script>

</head>

<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">

    <!-- Navigation -->
    <nav class="navbar navbar-custom navbar-fixed-top" role="navigation" style="display:none">
    
    </nav>

    <!-- Section -->
    <section id="section-top" style="padding-top:30px" class="container content-section text-center" style="padding:0;">
        <h1><span id="msg-top"></span></h1>
    </section>

	<section id="section-middle" class="container content-section text-center" style="padding:0;">
        <h4><span id="msg-middle"></span></h4>
    </section>

    <section id="section-bottom" style="" class="container content-section text-center" style="padding:0;">
        <h2><span id="msg-bottom"></span></h2>
    </section>

	<br/>
	
	<section id="section-btn" class="container content-section text-center" style="padding:0;">
        <div id="next-btn" class="btn btn-lg btn-click-look" onclick="next();">NEXT</div>
    </section>

    <!-- jQuery -->
    <script src="vendor/jquery/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>

    <!-- Theme JavaScript -->
    <!--script src="js/grayscale.min.js"></script-->
    <script src="js/grayscale.js"></script>

</body>

</html>
